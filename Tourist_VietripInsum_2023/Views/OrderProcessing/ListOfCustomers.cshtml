@model IEnumerable<Tourist_VietripInsum_2023.Models.KhachHang>

@{
    ViewBag.Title = "ListOfCustomers";
    Layout = "~/Views/OrderProcessing/LayoutOP/_ViewOP.cshtml";
    ViewBag.Name = "Trang Danh Sách Khách Hàng";
    ViewBag.cus = "active";

    if (TempData["success"] != null)
    {
        <script>
            swal({
                title: "Cập nhật thông tin khách hàng thành công",
                icon: "success",
                button: "Thoát",
            });
        </script>
    }
}

@*<ul class="nav nav-tabs">
        <li class="nav-item">
            <a class="nav-link" href="/OrderProcessing/ManageTourOrders">Danh sách đơn đặt</a>
        </li>
        <li class="nav-item">
            <a class="nav-link active" href="#">Danh sách khách hàng</a>
        </li>
    </ul>*@

<div class="row">
    <div class="col-sm-12">
        <div class="tile">
            <h4 class="tile-title">DANH SÁCH KHÁCH HÀNG</h4>
            <div class="tile-body">
                <div class="row element-button" style="padding-left:10px">
                    <div class="row element-button" style="padding-bottom: 20px;">
                        @*<form class="col-sm-10" method="get">
                                <div>
                                    <input class="btn-sm" type="search" name="search" placeholder="Enter phone number" style="width: 250px;" />
                                    <input class="btn btn-success btn-sm" type="submit" value="Search" />
                                </div>
                            </form>*@
                    </div>
                    <table class="table  table-hover table-bordered js-copytextarea dataTable no-footer" cellpadding="0" cellspacing="0" border="0" id="sampleTable" role="grid" aria-describedby="sampleTable_info">
                        <thead style="background-color: #ffd43b;">
                            <tr>
                                <th aria-controls="sampleTable" rowspan="1" colspan="1">Mã KH</th>
                                <th aria-controls="sampleTable" rowspan="1" colspan="1">Số điện thoại</th>
                                <th aria-controls="sampleTable" rowspan="1" colspan="1">Họ và tên</th>
                                <th aria-controls="sampleTable" rowspan="1" colspan="1">Email</th>
                                <th aria-controls="sampleTable" rowspan="1" colspan="1">Tổng tiền đặt</th>
                                <th aria-controls="sampleTable" rowspan="1" colspan="1">Chức năng</th>
                            </tr>
                        </thead>

                        <tbody>
                            @if (Model.Count() == 0)
                            {
                                <tr>
                                    <td colspan="9" class="text-center"> Không tìm thấy </td>
                                </tr>
                            }
                            else
                            {
                                foreach (var item in Model)
                                {
                                    <tr>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.MaKH)
                                        </td>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.SDT)
                                        </td>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.HoTenKH)
                                        </td>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.Email)
                                        </td>
                                        <td>
                                            @{ var tongTienDat = string.Format("{0:0,0} VNĐ", item.TongTienDat);}
                                            @Html.DisplayFor(modelItem => tongTienDat)
                                        </td>
                                        <td>
                                            @*<a href="/OrderProcessing/EditCusInfo?MaKH=@item.MaKH&SDT=@item.SDT" class="btn btn-outline-primary btn-sm" ata-toggle="tooltip" title="Detail"><i class="fas fa-edit"></i></a>*@
                                            <a href="/OrderProcessing/CusDetail/@item.MaKH" class="btn btn-outline-primary btn-sm" ata-toggle="tooltip" title="Detail"><i class="fas fa-train"></i></a>
                                            <a href="/OrderProcessing/EditCusInfo/@item.MaKH" class="btn btn-outline-primary btn-sm" ata-toggle="tooltip" title="Detail"><i class="fas fa-edit"></i></a>
                                        </td>
                                    </tr>
                                }
                            }
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
